@model WebApplication1.Helpers.PaginatedList<WebApplication1.Models.Customer>
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<div class="container py-5">

    <!-- Title -->
    <h2 class="text-center mb-4 display-5">Customers Management</h2>

    <!-- Create Button -->
    <div class="mb-3 text-end">
        <a href="@Url.Action("Create", "Customer")" class="btn btn-success">
            + Add Customer
        </a>
    </div>

    <!-- Table -->
    <div class="table-responsive">
        <table class="table table-striped table-bordered align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Name</th>
                    <th>Membership</th>
                    <th class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var customer in Model)
                {
                    <tr>
                        <td>@customer.Name</td>
                        <td>@customer.MembershipType?.DurationInMonth months</td>
                        <td class="text-center">
                            <a href="@Url.Action("Edit", "Customer", new { id = customer.Id })"
                               class="btn btn-primary btn-sm me-1">Edit</a>
                            <a href="@Url.Action("Delete", "Customer", new { id = customer.Id })"
                               class="btn btn-danger btn-sm me-1">Delete</a>
                            <a href="@Url.Action("Details", "Customer", new { id = customer.Id })"
                               class="btn btn-secondary btn-sm">Details</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            @if (Model.HasPreviousPage)
            {
                <li class="page-item">
                    <a class="page-link" href="@Url.Action("Index", new { page = Model.PageIndex - 1 })">
                        Previous
                    </a>
                </li>
            }

            <li class="page-item active">
                <span class="page-link">
                    @Model.PageIndex
                </span>
            </li>

            @if (Model.HasNextPage)
            {
                <li class="page-item">
                    <a class="page-link" href="@Url.Action("Index", new { page = Model.PageIndex + 1 })">
                        Next
                    </a>
                </li>
            }
        </ul>
    </nav>

</div>
